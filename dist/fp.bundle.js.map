{"version":3,"file":"fp.bundle.js","mappings":"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;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC;;AAElC;AACA;AACA;;AAEA;AACA;AACA,qEAAqE;AACrE;AACA;AACA,0CAA0C;AAC1C;AACA,uEAAuE;AACvE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6DAA6D;AAC7D;AACA,oBAAoB,oBAAoB;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA,6CAA6C;AAC7C,OAAO;AACP;AACA,6BAA6B;AAC7B;AACA,KAAK;AACL;AACA,oBAAoB,yCAAyC;AAC7D,mBAAmB;AACnB;AACA;AACA;;AAEA,mCAAmC,WAAW;AAC9C;;AAEA,+DAAe,GAAG,EAAC;;;;;;;UCrInB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNA","sources":["webpack://fauxpas/./src/components/cookie.js","webpack://fauxpas/./src/components/params.js","webpack://fauxpas/./src/lib/dom.js","webpack://fauxpas/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://fauxpas/webpack/bootstrap","webpack://fauxpas/webpack/runtime/make namespace object","webpack://fauxpas/./src/main.js"],"sourcesContent":["import Cookies from 'js-cookie'\nimport dom from '../lib/dom'\n\n/**\n * Read all fp-ccokie inputs on form and store in a cookie\n *\n * @param {HTMLFormElement} form\n */\nconst cookiesLoad = form => {\n    // Read all inputs submited\n    form.querySelectorAll('input[data-fp-cookie]').forEach(\n        /**\n         * @type {HTMLInputElement}\n         */\n        input => {\n            const cookieName = input.getAttribute('data-fp-cookie')\n            const value = dom.input.getValue(input)\n            Cookies.set(cookieName, value, { secure: true, sameSite: 'strict' })\n        }\n    )\n}\n\n/**\n * Retrieve stored cookies and write into data-fp-cookie tagged elements\n */\nconst cookiesUnload = () => {\n    dom.qall('[data-fp-cookie]').forEach(\n        /**\n         * @param {HTMLElement} elem\n         */\n        elem => {\n            const cookieName = elem.getAttribute('data-fp-cookie')\n            const value = Cookies.get(cookieName)\n            value && dom.setValue(elem, value)\n        }\n    )\n}\n\n/**\n * Store all submited input with data-fp-cookie attribute\n *\n * @param {Event} event\n */\nconst onSubmit = event => {\n    // Submitter is the input button type=submit\n    cookiesLoad(event.submitter.parentElement)\n\n    // Also update existing elements\n    cookiesUnload()\n}\n\n/**\n * Load cookies into variables and load set them\n * whenever a form is submited\n */\nconst onLoad = () => {\n    // Create listener to all forms\n    dom.qall('form').forEach(f => {\n        // eslint-disable-next-line no-param-reassign\n        f.addEventListener('submit', onSubmit)\n    })\n\n    cookiesUnload()\n}\n\nwindow.addEventListener('load', onLoad)\n","import dom from '../lib/dom'\n\n/**\n * Handles URL changes\n * Set parameters in input fields with attributes\n * fp-param : paramName\n *\n * Ex: acme.con/food?include-cat=true\n * It will search for an input field with attribute fp-param = include-cat\n * and set its value to true\n */\nconst onHashChange = () => {\n    // Split to remove # from location.hash\n    // eslint-disable-next-line no-restricted-globals\n    const params = new URLSearchParams(location.search || location.hash.split('?')?.[1])\n\n    params.forEach((value, key) => {\n        /**\n         * @type {HTMLInputElement}\n         */\n        const input = dom.q(`input[data-fp-param=\"${key}\"]`)\n        dom.input.setValue(input, value)\n    })\n}\n\nwindow.addEventListener('hashchange', onHashChange)\nwindow.addEventListener('load', onHashChange)\n","/* eslint-disable no-param-reassign */\n/**\n * Dom related methods\n */\nclass Dom {\n    /**\n     * Query selector\n     *\n     * @param {string} query Dom query string\n     * @returns {Element}\n     */\n    static q(query) {\n        return document.querySelector(query)\n    }\n\n    /**\n     * Query selector all\n     *\n     * @param {string} query Dom query string\n     * @returns {NodeList}\n     */\n    static qall(query) {\n        return document.querySelectorAll(query)\n    }\n\n    /**\n     * Updates a HTML element value or text\n     *\n     * @param {HTMLElement} elem\n     * @param {*} value\n     */\n    static setValue(elem, value) {\n        if (!elem) return\n\n        switch (elem.type) {\n            case 'input':\n                this.input.setValue(elem, value)\n                break\n\n            default:\n                elem.innerText = value\n                break\n        }\n    }\n\n    static input = class {\n        /**\n         * Set value on input field. Handles checkbox and radio\n         * buttons with click instead of updating value only\n         *\n         * @param {HTMLInputElement} input\n         * @param {any} value\n         */\n        static setValue(input, value) {\n            if (!input) return\n\n            switch (input.type) {\n                case 'radio':\n                    // Find the element to be checked within the same radio group name\n                    this.radio.setValue(input.name, value)\n                    break\n                case 'checkbox':\n                    input.checked = false\n                    input.click()\n                    break\n                default:\n                    input.value = value\n                    break\n            }\n        }\n\n        /**\n         * Get value from HTML input element\n         *\n         * @param {HTMLElement} input\n         * @returns {any}\n         */\n        // eslint-disable-next-line consistent-return\n        static getValue(input) {\n            if (input)\n                switch (input.type) {\n                    case 'radio':\n                        return this.radio.getValue(input.name)\n                    case 'checkbox':\n                        return input.checked\n                    default:\n                        return input.value\n                }\n        }\n\n        static radio = class {\n            /**\n             * Check a value in a radio button group\n             * For some wierd reason click() does not add decoration to input as if it was\n             * clicked\n             *\n             * @param {string} radioName\n             * @param {string} value\n             */\n            static setValue(radioName, value) {\n                const radio = Dom.q(`input[name=\"${radioName}\"][value=\"${value}\"]`)\n                radio.checked &&= false\n\n                // Voodoo to make the click also apply the correct classes\n                setTimeout(() => radio?.click(), 300)\n            }\n\n            static getValue(radioName) {\n                return Dom.q(`input[name=\"${radioName}\"]:checked`)?.value\n            }\n        }\n    }\n}\n\nconst dom = Dom\n\nexport default dom\n","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './components/cookie'\nimport './components/params'\n"],"names":["Cookies","dom","cookiesLoad","form","querySelectorAll","forEach","input","cookieName","getAttribute","value","getValue","set","secure","sameSite","cookiesUnload","qall","elem","get","setValue","onSubmit","event","submitter","parentElement","onLoad","f","addEventListener","window","onHashChange","params","URLSearchParams","location","search","hash","split","key","q","Dom","query","document","querySelector","type","innerText","radio","name","checked","click","radioName","setTimeout"],"sourceRoot":""}